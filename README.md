#######################
## Инцидент мониторинг
#######################

Для запуска потребуется python 3.x, Git, Docker

Перед запуском:

1. Инициализируем виртуальное окружение в папке app проекта
```
cd app
python3 -m venv venv
3. source venv/bin/activate
4. pip3 install -r requirements.txt
```
2. Создайте config.py на базе config.sample.py
3. Создайте app/bin/imon.sh на базе app/bin/imon.sh.sample
4. Создайте необходимые cron скрипты на базе примеров из app/bin/
5. Запустите проект
```
docker-compose up -d
```
6. Зайдите в phpMyAdmin создайте таблицу imon на базе примера из dumps
7. Остановите проект
```
docker-compose down
```
После формирования папки volumes/grafana скопируйте в нее файл базы графаны из папки dumps и поменяйте ему пользователя и права как у остальных.срщцт 472Ж

Для большей безопасности установите в mysql пароли пользователей кроме root, определите им права и работайте под ними

Для запуска проекта необходимо в таблице metric_projects задать 
проекты метрик, заполнить таблицу metrics. Если нужен инцидент мониторинг, то 
заполнить таблицу tasks, это можно сделать автоматически (смотри помощь основного скрипта)


TODO:
1. Управление таймфреймами из конфига.
2. Управление сообщениями msg_link1 из конфига (робот тваном).